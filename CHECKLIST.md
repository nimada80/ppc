# چک‌لیست استقرار پروژه پلاس پی‌تی‌تی

این چک‌لیست برای بررسی نهایی قبل از استقرار پروژه در سرور تولید طراحی شده است.

## بررسی فایل‌های مورد نیاز

- [ ] فایل `docker-compose.yml` به‌روز و آماده استقرار است
- [ ] فایل `.env` (یا `.env.example`) برای تنظیمات محیطی آماده شده است
- [ ] Dockerfile‌های همه سرویس‌ها موجود و به‌روز هستند
- [ ] اسکریپت‌های راه‌اندازی (`entrypoint.sh`) مجوز اجرا (`chmod +x`) دارند

## بررسی پیکربندی‌ها

- [ ] تنظیمات `nginx.conf` برای مسیریابی درخواست‌ها صحیح است
- [ ] پورت‌های مورد نیاز در `docker-compose.yml` به درستی تعریف شده‌اند
- [ ] فایل `livekit/config.yaml` برای ارتباطات زنده تنظیم شده است
- [ ] تنظیمات CORS در `nginx.conf` و بک‌اند برای دامنه‌های مورد نظر پیکربندی شده‌اند

## بررسی امنیتی

- [ ] رمزهای عبور برای سرویس‌ها (PostgreSQL، Redis، و غیره) قوی هستند
- [ ] کلیدهای JWT و API امن و طولانی هستند
- [ ] تنظیمات مربوط به SSL برای محیط تولید آماده شده‌اند
- [ ] کدهای امنیتی حساس در فایل‌های `settings.py` از طریق متغیرهای محیطی تنظیم می‌شوند
- [ ] `DEBUG=False` در محیط تولید تنظیم شده است

## بررسی سرویس‌ها

### بک‌اند

- [ ] مهاجرت‌های پایگاه داده آماده و آزمایش شده‌اند
- [ ] فایل‌های استاتیک با دستور `python manage.py collectstatic` جمع‌آوری شده‌اند
- [ ] URL‌های API به درستی کار می‌کنند
- [ ] CSRF و امنیت کوکی‌ها به درستی پیکربندی شده‌اند

### فرانت‌اند

- [ ] نسخه تولیدی (production build) ساخته و آزمایش شده است
- [ ] URL‌های API در فرانت‌اند به درستی تنظیم شده‌اند
- [ ] مسیرهای راوتینگ به درستی کار می‌کنند
- [ ] فرم‌های ورود و احراز هویت آزمایش شده‌اند

### لایوکیت

- [ ] تنظیمات LiveKit برای پورت‌های WebRTC صحیح است
- [ ] ارتباط با Redis پیکربندی شده است
- [ ] کلیدهای API LiveKit در فرانت‌اند و بک‌اند به درستی تنظیم شده‌اند

### سوپابیس

- [ ] تنظیمات ارتباط با پایگاه داده سوپابیس صحیح است
- [ ] کلیدهای API سوپابیس در بک‌اند به درستی تنظیم شده‌اند
- [ ] اسکیماهای موردنیاز در تنظیمات PostgREST فعال شده‌اند

## بررسی عملکرد

- [ ] عملکرد سیستم با داده‌های نمونه آزمایش شده است
- [ ] استفاده از منابع (CPU، حافظه، فضای دیسک) بررسی شده است
- [ ] لاگ‌های سیستم برای خطاهای احتمالی بررسی شده‌اند

## بررسی پس از استقرار

- [ ] همه سرویس‌ها پس از راه‌اندازی به درستی کار می‌کنند
- [ ] لاگ‌ها برای خطاهای احتمالی بررسی شده‌اند
- [ ] اتصالات بین سرویس‌ها (بک‌اند، فرانت‌اند، لایوکیت، سوپابیس) به درستی کار می‌کنند
- [ ] صفحات ارور (404، 500 و غیره) به درستی نمایش داده می‌شوند

## عملیات نهایی

- [ ] تنظیمات نهایی DNS برای دامنه انجام شده است
- [ ] بازسازی تصاویر داکر با تگ مناسب (`docker-compose build --no-cache`)
- [ ] اجرای تمیز سرویس‌ها (`docker-compose down` و سپس `docker-compose up -d`)
- [ ] روند پشتیبان‌گیری خودکار تنظیم شده است
- [ ] مستندات به‌روزرسانی و نگهداری تکمیل شده‌اند

## موارد دیگر

- [ ] اسکریپت‌های مانیتورینگ (اختیاری) تنظیم شده‌اند
- [ ] محیط CI/CD (اختیاری) پیکربندی شده است
- [ ] طرح بازیابی بعد از فاجعه (Disaster Recovery) آماده شده است 